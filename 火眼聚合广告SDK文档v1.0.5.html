<!doctype html>
<html>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>
    <title>火眼聚合广告 SDK v1.0.4 接入文档 （for iOS</title>
    <link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />

</head>
<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="width: 800px; margin: 0 auto; line-height: 1.6; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; font-size: 15px; letter-spacing: 0.05em; color: #595959;">
    <h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 24px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">火眼聚合广告 SDK v1.0.5 接入文档 （for iOS）</span><span class="suffix"></span></h1>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"></p>
    <div class="table-of-contents" data-tool="mdnice编辑器">
        <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
            <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1. SDK 集成</a>
                <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.1 CocoaPods集成</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.2 聚合包使用第三方平台SDK版本</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.3 聚合SDK使用中各第三方平台注册APPID注意事项</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.4 SDK手动集成</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.5 集成过程中注意事项</a></li>
                </ul>
            </li>
            <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2. SDK 调用</a>
                <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.1 开屏广告</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.2 Banner广告</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.3 激励视频广告</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.4 信息流模版广告(图文和视频)</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.5 插屏广告</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">2.6 全屏视频广告</a></li>
                </ul>
            </li>
            <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">3. 更新日志</a>
                <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.0.5 版本</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.0.4 版本</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.0.3 版本</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.0.2 版本</a></li>
                    <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">1.0.1 版本</a></li>
                </ul>
            </li>
            <li><a href style="text-decoration: none; word-wrap: break-word; border-bottom: 1px solid #773098; border: none; color: black; font-weight: normal;">4. 常见问题</a></li>
        </ul>
    </div>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"></p>
    <h2 data-tool="mdnice编辑器" style="margin-top: 30px; min-height: 32px; line-height: 28px; border-bottom: solid 1px #000000; color: #773098; display: inline-block; border-bottom-width: 1px; border-bottom-style: solid; border-color: #773098; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; margin-bottom: -3px; font-size: 22px; margin: 1em auto; padding: 0.5em 0; text-align: center; width: 85%; font-weight: bold; text-align: left;"><span class="prefix" style="display: none;"></span><span class="content">1. SDK 集成</span><span class="suffix"></span></h2>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.1 CocoaPods集成</span><span class="suffix" style="display: none;"></span></h3>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">pod&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'GTMAdSDK'</span><br></code></pre>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.2 聚合包使用第三方平台SDK版本</span><span class="suffix" style="display: none;"></span></h3>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">如果原工程内自行接入第三方广告SDK，请尽量使用下列版本</p>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">穿山甲SDK版本：<strong style="font-weight: bold; color: #773098;">2.9.5.8</strong></section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">广点通SDK版本：<strong style="font-weight: bold; color: #773098;">4.11.8</strong></section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">sigmob SDK版本：<strong style="font-weight: bold; color: #773098;">2.18.2</strong></section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.3 聚合SDK使用中各第三方平台注册APPID注意事项</span><span class="suffix" style="display: none;"></span></h3>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">聚合包中在使用任意类型广告<strong style="font-weight: bold; color: #773098;">获取广告时</strong>会调用对应平台的<strong style="font-weight: bold; color: #773098;">registerAppid</strong>的方法注册对应<strong style="font-weight: bold; color: #773098;">appid</strong>。</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">所以如果原工程集成了相同的第三方广告平台，需要在获取广告时重新注册<strong style="font-weight: bold; color: #773098;">appid</strong>，以免被聚合SDK重置appid后导致无法获取广告。</p>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.4 SDK手动集成</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">下载 GTMAdSDK，找到 lib 文件夹，SDK的framework文件在这个文件夹下</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">拖拽framework文件到 Xcode 工程内 (请勾选Copy items if needed选项)</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">第三方平台依赖包也在lib文件夹中，解压后一并放入工程内。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">头文件如下：</section>
        </li>
    </ul>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-string" style="color: #98c379; line-height: 26px;">.</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdSDK.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdSDKConfig.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdSplashAd.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdBannerView.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdRewardVideoAd.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdNativeExpressAd.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdNativeExpressAdView.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">├──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdInterstitialAd.h</span><br><span class="hljs-string" style="color: #98c379; line-height: 26px;">└──</span>&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">GTMAdFullscreenVideoAd.h</span><br></code></pre>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">在Build Phases -&gt; link with libraries 下加入如下依赖.</section>
        </li>
    </ul>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-type" style="color: #d19a66; line-height: 26px;">StoreKit</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">MobileCoreServices</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">WebKit</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">MediaPlayer</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">MessageUI</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">SafariServices</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">CoreMedia</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">CoreLocation</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">AVFoundation</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">CoreTelephony</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">SystemConfiguration</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">AdSupport</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">CoreMotion</span>.framework<br><span class="hljs-type" style="color: #d19a66; line-height: 26px;">Accelerate</span>.framework<br><span class="hljs-title" style="color: #61aeee; line-height: 26px;">libresolv</span><span class="hljs-number" style="color: #d19a66; line-height: 26px;">.9</span>.tbd<br><span class="hljs-title" style="color: #61aeee; line-height: 26px;">libc</span>++.tbd<br><span class="hljs-title" style="color: #61aeee; line-height: 26px;">libz</span>.tbd<br><span class="hljs-title" style="color: #61aeee; line-height: 26px;">libsqlite3</span>.tbd<br><span class="hljs-title" style="color: #61aeee; line-height: 26px;">libxml2</span><span class="hljs-number" style="color: #d19a66; line-height: 26px;">.2</span>.tbd<br></code></pre>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">如果以上依赖库增加完仍旧报错，请添加ImageIO.framework。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">Build Setting --&gt; Linking --&gt; Other Linker Flag 设置 增加 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">-ObjC</code>                linker flag</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.5 集成过程中注意事项</span><span class="suffix" style="display: none;"></span></h3>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">手动集成聚合SDK时，因为聚合SDK依赖其他第三方平台的广告SDK，如穿山甲和广点通SDK、sigmob。</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">第三方广告平台的包放在lib文件夹下，或者自行下载。</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><a href="https://github.com/gdtmobsdk/GDTMobSDK" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #773098; border-bottom: 1px solid #773098;">广点通</a> https://github.com/gdtmobsdk/GDTMobSDK</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><a href="https://github.com/bytedance/Bytedance-UnionAD" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #773098; border-bottom: 1px solid #773098;">穿山甲</a> https://github.com/bytedance/Bytedance-UnionAD</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;"><a href="https://cocoapods.org/pods/SigmobAd-iOS" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #773098; border-bottom: 1px solid #773098;">sigmob</a> https://cocoapods.org/pods/SigmobAd-iOS</p>
    <h2 data-tool="mdnice编辑器" style="margin-top: 30px; min-height: 32px; line-height: 28px; border-bottom: solid 1px #000000; color: #773098; display: inline-block; border-bottom-width: 1px; border-bottom-style: solid; border-color: #773098; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; margin-bottom: -3px; font-size: 22px; margin: 1em auto; padding: 0.5em 0; text-align: center; width: 85%; font-weight: bold; text-align: left;"><span class="prefix" style="display: none;"></span><span class="content">2. SDK 调用</span><span class="suffix"></span></h2>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">SDK支持<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">开屏</code>、
        <code
            style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">Banner</code>、<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">激励视频</code>、
            <code
                style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">信息流模版(图文和视频)</code>、<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">插屏</code>、
                <code
                    style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">全屏视频</code>六种种类型的广告。</p>
    <p data-tool="mdnice编辑器" style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: black; margin: 1em 4px;">对应类型广告调用时导入对应的头文件。</p>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.1 开屏广告</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.1 开屏广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdSplashAd.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.2 展示开屏广告期间使用变量保存开屏实例</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdSplashAd&nbsp;*splashAd;<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.3 创建开屏实例并设置<strong style="font-weight: bold; color: #773098;">代理</strong></span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdSplashAd&nbsp;*splashAd;<br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;*launchView;<br><br>-&nbsp;(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">BOOL</span>)application:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIApplication</span>&nbsp;*)application&nbsp;didFinishLaunchingWithOptions:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSDictionary</span>&nbsp;*)launchOptions<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;Override&nbsp;point&nbsp;for&nbsp;customization&nbsp;after&nbsp;application&nbsp;launch.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;_splashAd&nbsp;=&nbsp;[[GTMAdSplashAd&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDK494F6908BAD1"</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;_splashAd.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">/*<br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((arc4random()&nbsp;%&nbsp;10)&nbsp;%&nbsp;2&nbsp;==&nbsp;0)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;全屏广告<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[_splashAd&nbsp;loadAdAndShowInWindow:UIApplication.sharedApplication.keyWindow];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&nbsp;&nbsp;&nbsp;&nbsp;}*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;创建底部视图(用作非全屏开屏广告)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;*label&nbsp;=&nbsp;[[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;alloc]&nbsp;initWithFrame:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGRectMake</span>(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height&nbsp;/&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">4</span>&nbsp;*&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">3</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height&nbsp;/&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">4</span>)];<br>&nbsp;&nbsp;&nbsp;&nbsp;label.text&nbsp;=&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"这是开屏广告底部视图"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;label.textColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;blackColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;label.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;whiteColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;label.font&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIFont</span>&nbsp;systemFontOfSize:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">30</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;label.textAlignment&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSTextAlignmentCenter</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;非全屏广告</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[_splashAd&nbsp;loadAdAndShowInWindow:_window&nbsp;withBottomView:label];<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;为了使启动页和开屏衔接&nbsp;加载开屏的同时&nbsp;在window或者window的rootViewController上放置一个和启动页LaunchScreen一样布局的view&nbsp;在开屏加载成功或者失败时移除</span><br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView&nbsp;=&nbsp;[[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;alloc]&nbsp;initWithFrame:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGRectMake</span>(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height)];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.text&nbsp;=&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"火眼聚合广告"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.textColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;blackColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;whiteColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.font&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIFont</span>&nbsp;systemFontOfSize:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">20</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.textAlignment&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSTextAlignmentCenter</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;1.&nbsp;直接在rootVC的view上添加</span><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;&nbsp;&nbsp;&nbsp;[_window.rootViewController.view&nbsp;addSubview:_launchView];</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;2.在window上添加</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;如果不想在rootVC上添加这个仿启动页布局&nbsp;可以在window上添加&nbsp;但是需要注意&nbsp;rootVC的view在显示之前是没有添加在window上的</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;所以如果想要_launchView在rootVC的view的上层&nbsp;需要先完成rootVC的加载</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[_window&nbsp;makeKeyAndVisible];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_window&nbsp;addSubview:_launchView];<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">YES</span>;<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.4 开始加载开屏广告，分为<strong style="font-weight: bold; color: #773098;">全屏开屏</strong>广告和<strong style="font-weight: bold; color: #773098;">非全屏开屏广告</strong></span><span class="suffix"
            style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;全屏广告</span><br>[_splashAd&nbsp;loadAdAndShowInWindow:_window];<br></code></pre>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;创建底部视图</span><br><span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;*label&nbsp;=&nbsp;[[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;alloc]&nbsp;initWithFrame:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGRectMake</span>(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height&nbsp;/&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">4</span>&nbsp;*&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">3</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height&nbsp;/&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">4</span>)];<br>label.text&nbsp;=&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"这是开屏广告底部视图"</span>;<br>label.textColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;blackColor];<br>label.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;whiteColor];<br>label.font&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIFont</span>&nbsp;systemFontOfSize:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">30</span>];<br>label.textAlignment&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSTextAlignmentCenter</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;非全屏广告</span><br>[_splashAd&nbsp;loadAdAndShowInWindow:_window&nbsp;withBottomView:label];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.5 启动页和开屏广告衔接建议</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;为了使启动页和开屏衔接&nbsp;加载开屏的同时&nbsp;在window或者window的rootViewController上放置一个和启动页LaunchScreen一样布局的view&nbsp;在开屏加载成功或者失败时移除</span><br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView&nbsp;=&nbsp;[[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UILabel</span>&nbsp;alloc]&nbsp;initWithFrame:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGRectMake</span>(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height)];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.text&nbsp;=&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"火眼聚合广告"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.textColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;blackColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIColor</span>&nbsp;whiteColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.font&nbsp;=&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIFont</span>&nbsp;systemFontOfSize:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">20</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;_launchView.textAlignment&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSTextAlignmentCenter</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;1.&nbsp;直接在rootVC的view上添加</span><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;&nbsp;&nbsp;&nbsp;[_window.rootViewController.view&nbsp;addSubview:_launchView];</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;2.在window上添加</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;如果不想在rootVC上添加这个仿启动页布局&nbsp;可以在window上添加&nbsp;但是需要注意&nbsp;rootVC的view在显示之前是没有添加在window上的</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;所以如果想要_launchView在rootVC的view的上层&nbsp;需要先完成rootVC的加载</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[_window&nbsp;makeKeyAndVisible];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_window&nbsp;addSubview:_launchView];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.1.6 通过代理处理广告事件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdSplashAdDelegate&gt;<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAdLoadSuccess:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----开屏广告素材下载成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAdSuccessPresentScreen:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_launchView&nbsp;removeFromSuperview];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----开屏广告展示成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAd:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;didFailWithError:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_launchView&nbsp;removeFromSuperview];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----开屏广告展示失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAdDidClick:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----点击开屏广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAdDidCloseOtherController:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----打开的开屏广告页被关闭----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_splashAdDidClose:(GTMAdSplashAd&nbsp;*)splashAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----开屏广告结束----"</span>);<br>}<br></code></pre>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.2 Banner广告</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.2.1 Banner广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdBannerView.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.2.2 展示Banner广告期间使用变量保存Banner实例</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdBannerView&nbsp;*bannerView;<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.2.3 创建Banner实例、设置代理并发起广告加载。</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">[_bannerView&nbsp;removeFromSuperview];<br>_bannerView&nbsp;=&nbsp;[[GTMAdBannerView&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDKF6E5574E69D3"</span>&nbsp;adSize:adSize&nbsp;viewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>&nbsp;interval:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">30</span>];<br>_bannerView.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;获取广告并显示</span><br>[_bannerView&nbsp;loadAdAndShow];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>_bannerView.frame&nbsp;=&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGRectMake</span>(<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.height&nbsp;-&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">200</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width&nbsp;/&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">6.4</span>);<br>[<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>.view&nbsp;addSubview:_bannerView];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.2.4 通过代理处理广告事件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdBannerViewDelegate&gt;<br>&nbsp;&nbsp;<br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerViewDidLoad:(GTMAdBannerView&nbsp;*)bannerView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----banner广告素材下载成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerViewDidBecomVisible:(GTMAdBannerView&nbsp;*)bannerView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----banner广告显示成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerView:(GTMAdBannerView&nbsp;*)bannerView&nbsp;didLoadFailWithError:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----banner广告展示失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerViewDidClick:(GTMAdBannerView&nbsp;*)bannerView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----点击banner广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerViewDidCloseOtherController:(GTMAdBannerView&nbsp;*)bannerView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----点击banner广告后打开的广告关闭----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_bannerViewWillClose:(GTMAdBannerView&nbsp;*)bannerView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"-----banner广告被关闭----"</span>);<br>}<br></code></pre>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.3 激励视频广告</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.3.1 激励视频广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdRewardVideoAd.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.3.2 激励视频展示期间使用变量保存激励视频实例</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdRewardVideoAd&nbsp;*rewardVideoAd;<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.3.3 创建实例、设置代理并发起广告请求</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">_rewardVideoAd&nbsp;=&nbsp;[[GTMAdRewardVideoAd&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDK2B98AAC02AA0"</span>];<br>_rewardVideoAd.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br>[_rewardVideoAd&nbsp;loadAd];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.3.4 实现代理方法</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdRewardVideoAdDelegate&gt;<br>&nbsp;&nbsp;<br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdDidLoad:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频素材加载成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdVideoDidLoad:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频视频缓存成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[rewardVideoAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdWillVisible:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频播放页显示----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdDidClick:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击激励视频播放页信息----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdDidClose:(GTMAdRewardVideoAd&nbsp;*)rewardVdieoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频播放页关闭----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdDidPlayFinish:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频播放完成----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAd:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;didFailWithError:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频广告展示失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.3.5 其中在激励视频缓存成功的代理回调中选择是否展示激励视频</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_rewardVideoAdVideoDidLoad:(GTMAdRewardVideoAd&nbsp;*)rewardVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----激励视频视频缓存成功----"</span>);<br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;展示激励视频</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[rewardVideoAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;可根据业务逻辑选择在之后展示&nbsp;一般有效期为半小时&nbsp;展示之前使用&nbsp;isValid&nbsp;判断广告是否有效再展示</span><br>&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;([rewardVideoAd&nbsp;isValid])&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.4 信息流模版广告(图文和视频)</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.1 模版广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdNativeExpressAd.h"</span></span><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdNativeExpressAdView.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.2 创建实例并设置代理</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdNativeExpressAd&nbsp;*nativeExpressAd;<br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSMutableArray</span>&lt;GTMAdNativeExpressAdView&nbsp;*&gt;&nbsp;*adViews;<br><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;高度给0&nbsp;让模版在render之后自适应</span><br>_nativeExpressAd&nbsp;=&nbsp;[[GTMAdNativeExpressAd&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDKFB0E89AEC0B4"</span>&nbsp;adSize:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGSizeMake</span>(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>)];<br>_nativeExpressAd.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br>[_nativeExpressAd&nbsp;loadAd:<span class="hljs-number" style="color: #d19a66; line-height: 26px;">2</span>];<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIView</span>&nbsp;*adView&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">in</span>&nbsp;_adViews)&nbsp;{<br>&nbsp;[adView&nbsp;removeFromSuperview];<br>}<br>[_adViews&nbsp;removeAllObjects];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.3 处理代理回调事件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdNativeExpressAdDelegate&gt;<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdSuccessToLoad:(GTMAdNativeExpressAd&nbsp;*)nativeExpressAd&nbsp;views:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSArray</span>&lt;GTMAdNativeExpressAdView&nbsp;*&gt;&nbsp;*)views&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告加载成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;removeAllObjects];<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;views.count;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GTMAdNativeExpressAdView&nbsp;*adView&nbsp;=&nbsp;views[i];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;渲染广告视图</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[adView&nbsp;rednerWithController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;addObject:adView];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewRenderSuccess:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressAdView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"%@"</span>,&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSString</span>&nbsp;stringWithFormat:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告_0%lu渲染成功----"</span>,&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">unsigned</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">long</span>)[_adViews&nbsp;indexOfObject:nativeExpressAdView]&nbsp;+&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>]);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewWillShow:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressAdView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告显示成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewDidClick:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressAdView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击原生模版广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewDidClose:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressadView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----关闭原生模版广告----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[nativeExpressadView&nbsp;removeFromSuperview];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;removeObject:nativeExpressadView];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdFailToLoad:(GTMAdNativeExpressAd&nbsp;*)nativeExpressAd&nbsp;error:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告加载失败----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewRenderFail:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressAdView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告渲染失败----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[nativeExpressAdView&nbsp;removeFromSuperview];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;removeObject:nativeExpressAdView];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.4 在获取到广告模版视图**<code>GTMAdNativeExpressAdView</code>**后调用渲染方法进行渲染</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdSuccessToLoad:(GTMAdNativeExpressAd&nbsp;*)nativeExpressAd&nbsp;views:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSArray</span>&lt;GTMAdNativeExpressAdView&nbsp;*&gt;&nbsp;*)views&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告加载成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;removeAllObjects];<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;views.count;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GTMAdNativeExpressAdView&nbsp;*adView&nbsp;=&nbsp;views[i];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;渲染广告视图</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[adView&nbsp;rednerWithController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;addObject:adView];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.5 模版视图渲染成功后，视图高度已经重新自适应调整，刷新界面。</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewRenderSuccess:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressAdView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"%@"</span>,&nbsp;[<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSString</span>&nbsp;stringWithFormat:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----原生模版广告_0%lu渲染成功----"</span>,&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">unsigned</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">long</span>)[_adViews&nbsp;indexOfObject:nativeExpressAdView]&nbsp;+&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>]);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}&nbsp;<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.4.6 代理方法中收到模版广告被关闭回调后主动移除广告视图</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_nativeExpressAdViewDidClose:(GTMAdNativeExpressAdView&nbsp;*)nativeExpressadView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----关闭原生模版广告----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[nativeExpressadView&nbsp;removeFromSuperview];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_adViews&nbsp;removeObject:nativeExpressadView];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_tableView&nbsp;reloadData];<br>}<br></code></pre>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.5 插屏广告</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.5.1 插屏广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdInterstitialAd.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.5.2 创建实例并设置代理</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdInterstitialAd&nbsp;*interstitialAd;<br><br>_interstitialAd&nbsp;=&nbsp;[[GTMAdInterstitialAd&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDKAEBDA8F71997"</span>&nbsp;adSize:<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">CGSizeMake</span>(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width&nbsp;-&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">60</span>,&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">UIScreen</span>.mainScreen.bounds.size.width)];<br>_interstitialAd.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br>[_interstitialAd&nbsp;loadAd];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.5.3 处理代理回调事件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdInterstitialAdDelegate&gt;<br>&nbsp;&nbsp;<br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialSuccessToLoadAd:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告加载成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;显示插屏广告</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[interstitialAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;可根据业务逻辑选择在之后展示&nbsp;一般有效期为半小时&nbsp;展示之前使用&nbsp;isValid&nbsp;判断广告是否有效再展示</span><br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialFailToLoadAd:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;error:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告加载失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialWillVisible:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告显示成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitalFailToPresent:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告显示失败----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialDidClick:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击插屏广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialDidCloseOtherController:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击插屏广告后展示的广告页被关闭----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialDidClose:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告展示完成----"</span>);<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.5.4 在广告加载成功后选择是否展示</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_interstitialSuccessToLoadAd:(GTMAdInterstitialAd&nbsp;*)interstitialAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----插屏广告加载成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;显示插屏广告</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[interstitialAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;可根据业务逻辑选择在之后展示&nbsp;一般有效期为半小时&nbsp;展示之前使用&nbsp;isValid&nbsp;判断广告是否有效再展示</span><br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.5.5 注意代理中<code>点击广告回调</code> <code>广告展示结束回调</code>这两个回调的顺序会在不同上游的广告中表现不一样</span><span class="suffix" style="display: none;"></span></h5>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">一些上游广告点击后 先执行<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">广告展示结束回调</code>后立即执行
                <code
                    style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">点击广告回调</code>，即点击广告时自动关闭广告页。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">一些上游广告点击之后执行<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">点击广告回调</code>，不会主动关闭广告页。</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">2.6 全屏视频广告</span><span class="suffix" style="display: none;"></span></h3>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.6.1 全屏视频广告对应头文件</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">#import&nbsp;<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"GTMAdFullscreenVideoAd.h"</span></span><br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.6.2 创建实例并设置代理</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">@property</span>&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">strong</span>)&nbsp;GTMAdFullscreenVideoAd&nbsp;*fullscreenVideoAd;<br><br>_fullscreenVideoAd&nbsp;=&nbsp;[[GTMAdFullscreenVideoAd&nbsp;alloc]&nbsp;initWithAppId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"6A90F3261545"</span>&nbsp;placementId:<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"SDKFD4783576C59"</span>];<br>_fullscreenVideoAd.delegate&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>;<br>[_fullscreenVideoAd&nbsp;loadAd];<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.6.3 实现代理方法</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;实现代理</span><br>&lt;GTMAdFullscreenVideoAdDelegate&gt;<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdDidLoad:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告加载成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAd:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;didFailWithError:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告加载失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdViewRenderSuccess:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告渲染成功----"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;[fullscreenVideoAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscrrenVideoAdViewRenderFail:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;error:(<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSError</span>&nbsp;*)error&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告渲染失败&nbsp;[error=&gt;%@]&nbsp;----"</span>,&nbsp;error);<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdViewWillVisible:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告即将展示----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdViewDidVisible:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告展示成功----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdDidClick:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击全屏视频广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdDidCloseOtherController:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----点击全屏视频后打开的广告页被关闭----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdDidClose:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----关闭全屏视频广告----"</span>);<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdDidPlayFinish:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告播放完成----"</span>);<br>}<br></code></pre>
    <h5 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content">2.6.4 在广告渲染成功后选择是否展示</span><span class="suffix" style="display: none;"></span></h5>
    <pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">-&nbsp;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">void</span>)gtm_fullscreenVideoAdViewRenderSuccess:(GTMAdFullscreenVideoAd&nbsp;*)fullscreenVideoAd&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">NSLog</span>(<span class="hljs-string" style="color: #98c379; line-height: 26px;">@"----全屏视频广告渲染成功----"</span>);<br>&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;展示全屏视频广告</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[fullscreenVideoAd&nbsp;showAdFromRootViewController:<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">self</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;[_loadingView&nbsp;stopAnimating];<br>&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;可根据业务逻辑选择在之后展示&nbsp;一般有效期为半小时&nbsp;展示之前使用&nbsp;isValid&nbsp;判断广告是否有效再展示</span><br>&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;([fullscreenVideoAd&nbsp;isValid])&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre>
    <h2 data-tool="mdnice编辑器" style="margin-top: 30px; min-height: 32px; line-height: 28px; border-bottom: solid 1px #000000; color: #773098; display: inline-block; border-bottom-width: 1px; border-bottom-style: solid; border-color: #773098; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; margin-bottom: -3px; font-size: 22px; margin: 1em auto; padding: 0.5em 0; text-align: center; width: 85%; font-weight: bold; text-align: left;"><span class="prefix" style="display: none;"></span><span class="content">3. 更新日志</span><span class="suffix"></span></h2>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.0.5 版本</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">修复全屏视频sigmob平台广告不回调WillVisible方法。</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.0.4 版本</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">添加Sigmob广告平台。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">开屏广告针对广点通添加背景颜色和背景图片设置。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">信息流模版针对广点通添加非Wi-Fi环境是否自动播放、自动播放时是否静音、视频详情页是否静音设置。</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.0.3 版本</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">调整穿山甲开屏广告加载完成和渲染完成的回调时机。</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.0.2 版本</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">添加全屏视频和插屏视频广告。</section>
        </li>
    </ul>
    <h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; font-size: 20px; margin: 1.2em 0 1em; padding: 0; font-weight: bold; color: #773098;"><span class="prefix" style="display: none;"></span><span class="content">1.0.1 版本</span><span class="suffix" style="display: none;"></span></h3>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">添加开屏、banner、激励视频广告。</section>
        </li>
    </ul>
    <h2 data-tool="mdnice编辑器" style="margin-top: 30px; min-height: 32px; line-height: 28px; border-bottom: solid 1px #000000; color: #773098; display: inline-block; border-bottom-width: 1px; border-bottom-style: solid; border-color: #773098; padding-top: 5px; padding-right: 0.5em; padding-left: 0.5em; margin-bottom: -3px; font-size: 22px; margin: 1em auto; padding: 0.5em 0; text-align: center; width: 85%; font-weight: bold; text-align: left;"><span class="prefix" style="display: none;"></span><span class="content">4. 常见问题</span><span class="suffix"></span></h2>
    <ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">所有类型广告中，需要传入的<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">ViewController</code>是用来展示广告详情页的，在广告展示期间，请保持
                <code
                    style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">ViewController</code>存活。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">开屏广告中穿山甲上游所返回的广告是展示在传入的容器<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">window</code>的
                <code
                    style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">RootViewController</code>的<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">view</code>上，与广点通和其他平台展示在容器
                    <code
                        style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #9654B5;">window</code>有区别。如果有影响到工程内其他业务逻辑，请不要配置穿山甲广告或者只配置穿山甲广告。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">全屏视频中sigmob平台所展示的广告在点击跳过按钮之后，依然回调播放完成代理方法。所以不能把视频播放完成回调作为用户是否完整观看视频的依据。如果不能满足你的业务逻辑要求，请不要配置sigmob平台的广告，其他平台广告点击跳过按钮不会回调视频播放完成方法。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">开屏和全屏视频广告中sigmob平台所返回的广告，在被点击展示广告详情页之后，无法回调广告详情页被关闭的回调。</section>
        </li>
        <li>
            <section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; margin: 10px 0;">更多关于接入方面的问题请参考iOS接入demo或者联系商务同学。</section>
        </li>
    </ul>
</section>

</html>